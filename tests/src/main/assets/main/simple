def charger_connected {
    when (
        battery power connected
    ) do {
        set brightness to 100%
        set screen timeout to never
    }
}

def charger_disconnected {
    when (
        battery power disconnected
    ) do {
        set brightness to 60%
        set screen timeout to 1 minute
    }
}

def calendar_event_test_1 {
    when (
        calendar event (
            title contains "Meeting"
        ) starts
    ) do {
       set sound profile to silent
    }
}

def calendar_event_test_2 {
    when (
        calendar event (
            title contains "Meeting"
        ) ends
    ) do {
       set sound profile to normal
    }
}

def timer_test {
    when (
        time matches "5-55/5 * * * *",
        headset connected
    ) do {
       set sound profile to vibrate
    }
}

def music_player {
    when (
        headset connected,
        network connected
    ) do {
        launch app "Spotify"
        set music sound to 70%
        set ring sound to 50%
        set notification sound to muted
    }
}

def no_music_player {
    when (
        headset disconnected
    ) do {
        set music sound to 30%
        set ring sound to 100%
        set notification sound to unmuted
    }
}

rule charger_connected {
    when (
        battery power connected
    ) do {
        set brightness to 100%
        set screen timeout to never
    }
}

rule charger_disconnected {
    when (
        battery power disconnected
    ) do {
        set brightness to 60%
        set screen timeout to 1 minute
    }
}

rule music_player {
    when (
        headset connected,
        network connected
    ) do {
        launch app "Spotify"
        set music sound to 70%
        set ring sound to 50%
        set notification sound to muted
    }
}

rule no_music_player {
    when (
        headset disconnected
    ) do {
        set music sound to 30%
        set ring sound to 100%
        set notification sound to unmuted
    }
}

rule work_meeting {
    when (
        or (
            calendar event (
                description contains "work meeting"
            ) starts,
            time matches "0 10 * * FRI"
        )
    ) do {
       set sound profile to silent
    }
}

rule no_work_meeting {
    when (
        or (
            calendar event (
                description contains "work meeting"
            ) ends,
            time matches "0 11 * * FRI"
        )
    ) do {
       set sound profile to normal
    }
}
